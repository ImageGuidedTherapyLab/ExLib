convert DICOM to nii.gz
http://www.slicer.org/


dir software:
http://stnava.github.io/ANTs/
http://sourceforge.net/projects/advants/files/ANTS/


script for dir:
/Path/To/Install/antsIntroduction.sh -d 3 -r fixed.nii.gz -i target.nii.gz > log.txt 2>&1


command line functions: (1) Generate Deformation Field  (2) Apply Deformation Field to image

/Path/To/Install/ANTS 3 -m  CC[fixed.nii.gz,target.nii.gz,1,5] -t SyN[0.25] -r Gauss[3,0] -o basename target -i 30x90x20 --use-Histogram-Matching  --number-of-affine-iterations 10000x10000x10000x10000x10000 --MI-option 32x16000  > log.txt 2>&1
/Path/To/Install/WarpImageMultiTransform 3 target.nii.gz targetdeformed.nii.gz targetWarp.nii.gz targetAffine.txt -R fixed.nii.gz >> log.txt 2>&1
